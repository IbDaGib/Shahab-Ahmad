<!DOCTYPE html>
<html>
  <head>
    <title>My Webpage</title>
    <script src="https://cdn.jsdelivr.net/npm/graphql-request@3.5.0/dist/index.min.js"></script>
  </head>
  <body>
    <header>
      <h1 id="title"></h1>
    </header>

    <script>
      const endpoint = 'https://graphql.datocms.com';

      const query = `{
        infoPage {
            subtitle {
            blocks
            links
            value
            }
            content {
            blocks
            links
            value
            }
            kicker
            title
        }
      }`;

      fetch(endpoint, {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
          Authorization: 'Bearer 253721c7e7a812883479a842bc6594',
        },
        body: JSON.stringify({ query }),
      })
        .then((response) => response.json())
        .then((data) => {
          const infoPage = data.infoPage;

          document.getElementById('title').textContent = infoPage.title;
        })
        .catch((error) => {
          console.error(error);
        });
    </script>
  </body>
</html>
